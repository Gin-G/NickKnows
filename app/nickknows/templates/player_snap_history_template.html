<!DOCTYPE html>
<html>
    <head>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }
        
        function createSnapChart() {
            const ctx = document.getElementById('snapChart').getContext('2d');
            const weeklyData = {{ weekly_snaps | tojson }};
            
            const weeks = weeklyData.map(w => `Week ${w.week}`);
            const offenseSnaps = weeklyData.map(w => w.offense_snaps);
            const defenseSnaps = weeklyData.map(w => w.defense_snaps);
            const stSnaps = weeklyData.map(w => w.st_snaps);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: weeks,
                    datasets: [{
                        label: 'Offensive Snaps',
                        data: offenseSnaps,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Defensive Snaps',
                        data: defenseSnaps,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Special Teams Snaps',
                        data: stSnaps,
                        borderColor: '#ffc107',
                        backgroundColor: 'rgba(255, 193, 7, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Weekly Snap Count Progression'
                        },
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Snaps'
                            }
                        }
                    }
                }
            });
        }
    </script>
        
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMZBTB7JST"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YMZBTB7JST');
    </script>
    
    <!-- Google Adsense tag (gtag.js) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5450333101463376"
    crossorigin="anonymous"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static',  filename='style.css')}}" type="text/css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        $(function(){
            $('#nfl_navbar').load("{{ url_for('nfl_navbar') }}")
        })
    </script>
    <script>
        $(function(){
            $('#header').load("{{ url_for('header') }}")
        })
    </script>
    <body>
        <div id="header"></div>
        <div id="nfl_navbar"></div>
        
        <!-- Player Header -->
        <div class="player-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; margin: 20px 0; text-align: center;">
            <h1 style="margin: 0; font-size: 2.5em;">{{ player_name }}</h1>
            <h2 style="margin: 10px 0; font-size: 1.5em; opacity: 0.9;">{{ position }} - {{ fullname }}</h2>
            <p style="margin: 5px 0; font-size: 1.1em; opacity: 0.8;">{{ selected_year }} Season Snap Count History</p>
        </div>
        
        <!-- Navigation Breadcrumb -->
        <div class="breadcrumb" style="margin: 20px 0; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
            <a href="{{ url_for('snap_counts_home', year=selected_year) }}" style="color: #007bff; text-decoration: none;">Snap Counts Home</a>
            <span style="margin: 0 10px; color: #6c757d;"> > </span>
            <a href="{{ url_for('team_snap_counts', team=team, fullname=fullname, year=selected_year) }}" style="color: #007bff; text-decoration: none;">{{ fullname }}</a>
            <span style="margin: 0 10px; color: #6c757d;"> > </span>
            <span style="color: #6c757d;">{{ player_name }}</span>
        </div>
        
        <!-- Season Totals -->
        <div class="season-totals" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
            <div class="total-card" style="background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 20px; text-align: center;">
                <h3 style="margin: 0 0 10px 0; color: #155724; font-size: 2em;">{{ "{:,}".format(season_totals.offense_snaps) }}</h3>
                <p style="margin: 0; color: #721c24; font-weight: bold;">Defensive Snaps</p>
                <small style="color: #6c757d;">Total season defensive plays</small>
            </div>
            <div class="total-card" style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; text-align: center;">
                <h3 style="margin: 0 0 10px 0; color: #856404; font-size: 2em;">{{ "{:,}".format(season_totals.st_snaps) }}</h3>
                <p style="margin: 0; color: #856404; font-weight: bold;">Special Teams Snaps</p>
                <small style="color: #6c757d;">Total season ST plays</small>
            </div>
            <div class="total-card" style="background-color: #d1ecf1; border: 1px solid #bee5eb; border-radius: 8px; padding: 20px; text-align: center;">
                <h3 style="margin: 0 0 10px 0; color: #0c5460; font-size: 2em;">{{ "{:,}".format(season_totals.total_snaps) }}</h3>
                <p style="margin: 0; color: #0c5460; font-weight: bold;">Total Snaps</p>
                <small style="color: #6c757d;">All plays combined</small>
            </div>
        </div>
        
        <!-- Chart Section -->
        <div class="chart-section" style="background-color: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin: 30px 0;">
            <canvas id="snapChart" width="400" height="200"></canvas>
        </div>
        
        <!-- Weekly Breakdown Table -->
        <div class="weekly-breakdown" style="margin: 30px 0;">
            <h2 style="color: #333; border-bottom: 2px solid #dee2e6; padding-bottom: 10px;">Weekly Breakdown</h2>
            
            <div class="table-wrapper" style="overflow-x: auto;">
                <table class="table" style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <thead>
                        <tr style="background-color: #f8f9fa;">
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Week</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Opponent</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Offensive Snaps</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Offensive %</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Defensive Snaps</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Defensive %</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">ST Snaps</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">ST %</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for week_data in weekly_snaps %}
                        <tr style="border-bottom: 1px solid #dee2e6;">
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; font-weight: bold;">
                                {{ week_data.week }}
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6;">
                                <strong>{{ week_data.opponent }}</strong>
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(40, 167, 69, 0.1);">
                                {{ week_data.offense_snaps }}
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(40, 167, 69, 0.1);">
                                {{ week_data.offense_pct }}%
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(220, 53, 69, 0.1);">
                                {{ week_data.defense_snaps }}
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(220, 53, 69, 0.1);">
                                {{ week_data.defense_pct }}%
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(255, 193, 7, 0.1);">
                                {{ week_data.st_snaps }}
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(255, 193, 7, 0.1);">
                                {{ week_data.st_pct }}%
                            </td>
                            <td style="padding: 10px; text-align: center; border: 1px solid #dee2e6; font-weight: bold; background-color: #f8f9fa;">
                                {{ week_data.offense_snaps + week_data.defense_snaps + week_data.st_snaps }}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr style="background-color: #e9ecef; font-weight: bold;">
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6;" colspan="2">
                                <strong>Season Totals</strong>
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(40, 167, 69, 0.2);">
                                {{ "{:,}".format(season_totals.offense_snaps) }}
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(40, 167, 69, 0.2);">
                                -
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(220, 53, 69, 0.2);">
                                {{ "{:,}".format(season_totals.defense_snaps) }}
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(220, 53, 69, 0.2);">
                                -
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(255, 193, 7, 0.2);">
                                {{ "{:,}".format(season_totals.st_snaps) }}
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: rgba(255, 193, 7, 0.2);">
                                -
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6; background-color: #dee2e6;">
                                {{ "{:,}".format(season_totals.total_snaps) }}
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        
        <!-- Analysis Section -->
        <div class="analysis-section" style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin: 30px 0;">
            <h2 style="color: #333; margin-top: 0;">Quick Analysis</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div>
                    <h4 style="color: #28a745; margin-bottom: 10px;"><i class="fas fa-chart-line"></i> Offensive Usage</h4>
                    {% if season_totals.offense_snaps > 0 %}
                        <p>Participated in <strong>{{ "{:,}".format(season_totals.offense_snaps) }}</strong> offensive plays this season.</p>
                        <p>Average of <strong>{{ "%.1f"|format(season_totals.offense_snaps / weekly_snaps|length) }}</strong> offensive snaps per game.</p>
                    {% else %}
                        <p>No offensive snaps recorded this season.</p>
                    {% endif %}
                </div>
                <div>
                    <h4 style="color: #dc3545; margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> Defensive Usage</h4>
                    {% if season_totals.defense_snaps > 0 %}
                        <p>Participated in <strong>{{ "{:,}".format(season_totals.defense_snaps) }}</strong> defensive plays this season.</p>
                        <p>Average of <strong>{{ "%.1f"|format(season_totals.defense_snaps / weekly_snaps|length) }}</strong> defensive snaps per game.</p>
                    {% else %}
                        <p>No defensive snaps recorded this season.</p>
                    {% endif %}
                </div>
                <div>
                    <h4 style="color: #ffc107; margin-bottom: 10px;"><i class="fas fa-star"></i> Special Teams Usage</h4>
                    {% if season_totals.st_snaps > 0 %}
                        <p>Participated in <strong>{{ "{:,}".format(season_totals.st_snaps) }}</strong> special teams plays this season.</p>
                        <p>Average of <strong>{{ "%.1f"|format(season_totals.st_snaps / weekly_snaps|length) }}</strong> ST snaps per game.</p>
                    {% else %}
                        <p>No special teams snaps recorded this season.</p>
                    {% endif %}
                </div>
                <div>
                    <h4 style="color: #17a2b8; margin-bottom: 10px;"><i class="fas fa-calculator"></i> Overall Usage</h4>
                    <p>Total involvement: <strong>{{ "{:,}".format(season_totals.total_snaps) }}</strong> snaps across all phases.</p>
                    <p>Games played: <strong>{{ weekly_snaps|length }}</strong> of season.</p>
                </div>
            </div>
        </div>
        
        <!-- Additional Navigation Actions -->
        <div class="action-buttons" style="text-align: center; margin: 30px 0; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
            <a href="{{ url_for('team_snap_counts', team=team, fullname=fullname, year=selected_year) }}" 
               class="btn" 
               style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 10px; display: inline-block;">
                <i class="fas fa-arrow-left"></i> Back to {{ fullname }}
            </a>
            <a href="{{ url_for('snap_counts_home', year=selected_year) }}" 
               class="btn" 
               style="background-color: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 10px; display: inline-block;">
                <i class="fas fa-home"></i> Snap Counts Home
            </a>
            <a href="{{ url_for('player_stats', name=player_name) }}" 
               class="btn" 
               style="background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 10px; display: inline-block;">
                <i class="fas fa-chart-bar"></i> Player Stats
            </a>
        </div>
        
        <!-- Performance Insights -->
        <div class="insights-section" style="margin: 30px 0;">
            <h2 style="color: #333; border-bottom: 2px solid #dee2e6; padding-bottom: 10px;">Performance Insights</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
                <!-- Peak Performance Week -->
                {% set max_week = weekly_snaps | selectattr('total_snaps', 'equalto', (weekly_snaps | map(attribute='total_snaps') | max)) | first %}
                {% if max_week %}
                <div class="insight-card" style="background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 20px;">
                    <h4 style="color: #155724; margin-top: 0;"><i class="fas fa-trophy"></i> Peak Usage Week</h4>
                    <p><strong>Week {{ max_week.week }}</strong> vs {{ max_week.opponent }}</p>
                    <p>{{ max_week.offense_snaps + max_week.defense_snaps + max_week.st_snaps }} total snaps</p>
                    <small>Highest single-game snap count of the season</small>
                </div>
                {% endif %}
                
                <!-- Consistency Analysis -->
                {% set snap_counts = weekly_snaps | map(attribute='total_snaps') | list %}
                {% if snap_counts | length > 1 %}
                <div class="insight-card" style="background-color: #d1ecf1; border: 1px solid #bee5eb; border-radius: 8px; padding: 20px;">
                    <h4 style="color: #0c5460; margin-top: 0;"><i class="fas fa-chart-line"></i> Consistency</h4>
                    <p>Average: <strong>{{ "%.1f"|format(snap_counts | sum / snap_counts | length) }}</strong> snaps/game</p>
                    <p>Range: {{ snap_counts | min }} - {{ snap_counts | max }} snaps</p>
                    <small>Consistency in usage throughout season</small>
                </div>
                {% endif %}
                
                <!-- Role Analysis -->
                <div class="insight-card" style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px;">
                    <h4 style="color: #856404; margin-top: 0;"><i class="fas fa-user-cog"></i> Primary Role</h4>
                    {% if season_totals.offense_snaps > season_totals.defense_snaps and season_totals.offense_snaps > season_totals.st_snaps %}
                        <p><strong>Offensive Player</strong></p>
                        <p>{{ "%.1f"|format((season_totals.offense_snaps / season_totals.total_snaps) * 100) }}% offensive snaps</p>
                    {% elif season_totals.defense_snaps > season_totals.offense_snaps and season_totals.defense_snaps > season_totals.st_snaps %}
                        <p><strong>Defensive Player</strong></p>
                        <p>{{ "%.1f"|format((season_totals.defense_snaps / season_totals.total_snaps) * 100) }}% defensive snaps</p>
                    {% elif season_totals.st_snaps > 0 %}
                        <p><strong>Special Teams Specialist</strong></p>
                        <p>{{ "%.1f"|format((season_totals.st_snaps / season_totals.total_snaps) * 100) }}% ST snaps</p>
                    {% else %}
                        <p><strong>Multi-Phase Player</strong></p>
                        <p>Contributes across multiple phases</p>
                    {% endif %}
                    <small>Based on snap distribution</small>
                </div>
                
                <!-- Availability -->
                <div class="insight-card" style="background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 8px; padding: 20px;">
                    <h4 style="color: #721c24; margin-top: 0;"><i class="fas fa-calendar-check"></i> Availability</h4>
                    <p><strong>{{ weekly_snaps | length }}</strong> games played</p>
                    {% set weeks_in_season = 18 if selected_year >= 2021 else 17 %}
                    <p>{{ "%.1f"|format((weekly_snaps | length / weeks_in_season) * 100) }}% of season</p>
                    <small>Games with recorded snap counts</small>
                </div>
            </div>
        </div>
        
        <!-- Export/Share Options -->
        <div class="export-section" style="background-color: #e9ecef; border-radius: 8px; padding: 20px; margin: 30px 0; text-align: center;">
            <h3 style="margin-top: 0;">Export & Share</h3>
            <button onclick="exportTableToCSV()" 
                    class="btn" 
                    style="background-color: #17a2b8; color: white; padding: 10px 20px; border: none; border-radius: 5px; margin: 0 5px; cursor: pointer;">
                <i class="fas fa-download"></i> Download CSV
            </button>
            <button onclick="printPlayerReport()" 
                    class="btn" 
                    style="background-color: #6f42c1; color: white; padding: 10px 20px; border: none; border-radius: 5px; margin: 0 5px; cursor: pointer;">
                <i class="fas fa-print"></i> Print Report
            </button>
            <button onclick="sharePlayerStats()" 
                    class="btn" 
                    style="background-color: #fd7e14; color: white; padding: 10px 20px; border: none; border-radius: 5px; margin: 0 5px; cursor: pointer;">
                <i class="fas fa-share"></i> Share URL
            </button>
        </div>
        
        <script>
            // Initialize the chart when page loads
            document.addEventListener('DOMContentLoaded', function() {
                createSnapChart();
            });
            
            // Export functionality
            function exportTableToCSV() {
                const weeklyData = {{ weekly_snaps | tojson }};
                const seasonTotals = {{ season_totals | tojson }};
                
                let csv = 'Week,Opponent,Offensive Snaps,Offensive %,Defensive Snaps,Defensive %,ST Snaps,ST %,Total Snaps\n';
                
                weeklyData.forEach(week => {
                    csv += `${week.week},${week.opponent},${week.offense_snaps},${week.offense_pct}%,${week.defense_snaps},${week.defense_pct}%,${week.st_snaps},${week.st_pct}%,${week.offense_snaps + week.defense_snaps + week.st_snaps}\n`;
                });
                
                csv += `Season Totals,,${seasonTotals.offense_snaps},,${seasonTotals.defense_snaps},,${seasonTotals.st_snaps},,${seasonTotals.total_snaps}\n`;
                
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.setAttribute('hidden', '');
                a.setAttribute('href', url);
                a.setAttribute('download', `${player_name}_snap_counts_${selected_year}.csv`.replace(/\s+/g, '_'));
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
            
            function printPlayerReport() {
                // Hide navigation and export sections for printing
                const elementsToHide = document.querySelectorAll('.export-section, .action-buttons, #nfl_navbar, #header');
                elementsToHide.forEach(el => el.style.display = 'none');
                
                window.print();
                
                // Show elements again after printing
                elementsToHide.forEach(el => el.style.display = '');
            }
            
            function sharePlayerStats() {
                if (navigator.share) {
                    navigator.share({
                        title: `{{ player_name }} - {{ selected_year }} Snap Counts`,
                        text: `Check out {{ player_name }}'s snap count statistics for the {{ selected_year }} season`,
                        url: window.location.href
                    });
                } else {
                    // Fallback - copy to clipboard
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        alert('Link copied to clipboard!');
                    });
                }
            }
            
            // Add some interactivity to the chart
            function createSnapChart() {
                const ctx = document.getElementById('snapChart').getContext('2d');
                const weeklyData = {{ weekly_snaps | tojson }};
                
                const weeks = weeklyData.map(w => `Week ${w.week}`);
                const offenseSnaps = weeklyData.map(w => w.offense_snaps);
                const defenseSnaps = weeklyData.map(w => w.defense_snaps);
                const stSnaps = weeklyData.map(w => w.st_snaps);
                const opponents = weeklyData.map(w => w.opponent);
                
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: weeks,
                        datasets: [{
                            label: 'Offensive Snaps',
                            data: offenseSnaps,
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            tension: 0.4,
                            fill: false
                        }, {
                            label: 'Defensive Snaps',
                            data: defenseSnaps,
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            tension: 0.4,
                            fill: false
                        }, {
                            label: 'Special Teams Snaps',
                            data: stSnaps,
                            borderColor: '#ffc107',
                            backgroundColor: 'rgba(255, 193, 7, 0.1)',
                            tension: 0.4,
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: '{{ player_name }} - Weekly Snap Count Progression ({{ selected_year }})',
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                }
                            },
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    afterLabel: function(context) {
                                        const weekIndex = context.dataIndex;
                                        return `vs ${opponents[weekIndex]}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Number of Snaps'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Week'
                                }
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        }
                    }
                });
            }
        </script>
        
        <style>
            .total-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }
            
            .insight-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }
            
            .table tbody tr:hover {
                background-color: #f5f5f5;
            }
            
            .btn:hover {
                opacity: 0.9;
                transform: translateY(-1px);
                transition: all 0.2s ease;
            }
            
            .chart-section {
                height: 400px;
            }
            
            #snapChart {
                height: 350px !important;
            }
            
            @media print {
                .export-section,
                .action-buttons,
                #nfl_navbar,
                #header {
                    display: none !important;
                }
                
                body {
                    font-size: 12px;
                }
                
                .chart-section {
                    break-inside: avoid;
                }
            }
            
            @media (max-width: 768px) {
                .season-totals {
                    grid-template-columns: repeat(2, 1fr) !important;
                }
                
                .player-header h1 {
                    font-size: 2em !important;
                }
                
                .player-header h2 {
                    font-size: 1.2em !important;
                }
                
                .table {
                    font-size: 0.9em;
                }
                
                .table th, .table td {
                    padding: 8px 4px !important;
                }
                
                .btn {
                    display: block !important;
                    margin: 5px 0 !important;
                    width: 100%;
                }
                
                .export-section .btn {
                    display: inline-block !important;
                    width: auto;
                    margin: 5px !important;
                }
                
                .chart-section {
                    height: 300px;
                }
                
                #snapChart {
                    height: 250px !important;
                }
            }
        </style>
        
    </body>
</html>