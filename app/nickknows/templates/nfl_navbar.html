<nav class="navbar">
    <a href="{{url_for('home')}}" class="brand">Home</a>
    <button class="navbar-toggle" onclick="toggleMenu()">
        <i class="fas fa-bars" aria-hidden="true"></i>
    </button>
    <div class="nav-links" id="navLinks">
        <a href="{{url_for('NFL')}}" id="nfl-home-link">NFL Home</a>
        <a href="{{url_for('schedule')}}" id="schedule-link">Schedule</a>
        
        <!-- Year Selection Form -->
        <div style="display: inline-block; margin: 0 15px;">
            <form id="yearForm" method="get" action="{{ url_for('NFL') }}" style="display: inline-block;">
                <label for="yearSelect" style="color: white; margin-right: 5px; font-size: 14px;">Season:</label>
                <select name="year" id="yearSelect" style="padding: 4px; font-size: 14px; border-radius: 3px; border: 1px solid #333;" onchange="handleYearChange(this.value)">
                    <option value="2025" {% if selected_year == 2025 %}selected{% endif %}>2025 Season</option>
                    <option value="2024" {% if selected_year == 2024 %}selected{% endif %}>2024 Season</option>
                    <option value="2023" {% if selected_year == 2023 %}selected{% endif %}>2023 Season</option>
                    <option value="2022" {% if selected_year == 2022 %}selected{% endif %}>2022 Season</option>
                    <option value="2021" {% if selected_year == 2021 %}selected{% endif %}>2021 Season</option>
                    <option value="2020" {% if selected_year == 2020 %}selected{% endif %}>2020 Season</option>
                </select>
            </form>
        </div>
        
        <div class="dropdown">
            <button class="dropbtn" onclick="toggleDropdown(this)">
                Rosters <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
            <a href="{{url_for('roster', team='ARI', fullname='Arizona Cardinals')}}" class="team-link">Arizona Cardinals</a>
            <a href="{{url_for('roster', team='ATL', fullname='Atlanta Falcons')}}" class="team-link">Atlanta Falcons</a>
            <a href="{{url_for('roster', team='BAL', fullname='Baltimore Ravens')}}" class="team-link">Baltimore Ravens</a>
            <a href="{{url_for('roster', team='BUF', fullname='Buffalo Bills')}}" class="team-link">Buffalo Bills</a>
            <a href="{{url_for('roster', team='CAR', fullname='Carolina Panthers')}}" class="team-link">Carolina Panthers</a>
            <a href="{{url_for('roster', team='CHI', fullname='Chicago Bears')}}" class="team-link">Chicago Bears</a>
            <a href="{{url_for('roster', team='CIN', fullname='Cincinnati Bengals')}}" class="team-link">Cincinnati Bengals</a>
            <a href="{{url_for('roster', team='CLE', fullname='Cleveland Browns')}}" class="team-link">Cleveland Browns</a>
            <a href="{{url_for('roster', team='DAL', fullname='Dallas Cowboys')}}" class="team-link">Dallas Cowboys</a>
            <a href="{{url_for('roster', team='DEN', fullname='Denver Broncos')}}" class="team-link">Denver Broncos</a>
            <a href="{{url_for('roster', team='DET', fullname='Detroit Lions')}}" class="team-link">Detroit Lions</a>
            <a href="{{url_for('roster', team='GB', fullname='Green Bay Packers')}}" class="team-link">Green Bay Packers</a>
            <a href="{{url_for('roster', team='HOU', fullname='Houston Texans')}}" class="team-link">Houston Texans</a>
            <a href="{{url_for('roster', team='IND', fullname='Indianapolis Colts')}}" class="team-link">Indianapolis Colts</a>
            <a href="{{url_for('roster', team='JAX', fullname='Jacksonville Jaguars')}}" class="team-link">Jacksonville Jaguars</a>
            <a href="{{url_for('roster', team='KC', fullname='Kansas City Chiefs')}}" class="team-link">Kansas City Chiefs</a>
            <a href="{{url_for('roster', team='LA', fullname='Los Angeles Rams')}}" class="team-link">Los Angeles Rams</a>
            <a href="{{url_for('roster', team='LAC', fullname='Los Angeles Chargers')}}" class="team-link">Los Angeles Chargers</a>
            <a href="{{url_for('roster', team='LV', fullname='Los Vegas Raiders')}}" class="team-link">Los Vegas Raiders</a>
            <a href="{{url_for('roster', team='MIA', fullname='Miami Dolphins')}}" class="team-link">Miami Dolphins</a>
            <a href="{{url_for('roster', team='MIN', fullname='Minnesota Vikings')}}" class="team-link">Minnesota Vikings</a>
            <a href="{{url_for('roster', team='NE', fullname='New England Patriots')}}" class="team-link">New England Patriots</a>
            <a href="{{url_for('roster', team='NO', fullname='New Orleans Saints')}}" class="team-link">New Orleans Saints</a>
            <a href="{{url_for('roster', team='NYG', fullname='New York Giants')}}" class="team-link">New York Giants</a>
            <a href="{{url_for('roster', team='NYJ', fullname='New York Jets')}}" class="team-link">New York Jets</a>
            <a href="{{url_for('roster', team='PHI', fullname='Philadelphia Eagles')}}" class="team-link">Philadelphia Eagles</a>
            <a href="{{url_for('roster', team='PIT', fullname='Pittsburgh Steelers')}}" class="team-link">Pittsburgh Steelers</a>
            <a href="{{url_for('roster', team='SEA', fullname='Seattle Seahawks')}}" class="team-link">Seattle Seahawks</a>
            <a href="{{url_for('roster', team='SF', fullname='San Fransisco 49ers')}}" class="team-link">San Fransisco 49ers</a>
            <a href="{{url_for('roster', team='TB', fullname='Tampa Bay Buccaners')}}" class="team-link">Tampa Bay Buccaners</a>
            <a href="{{url_for('roster', team='TEN', fullname='Tennessee Titans')}}" class="team-link">Tennessee Titans</a>
            <a href="{{url_for('roster', team='WAS', fullname='Washington Commanders')}}" class="team-link">Washington Commanders</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown(this)">Team Schedule
        <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="{{url_for('team_schedule', team='ARI', fullname='Arizona Cardinals')}}" class="team-link">Arizona Cardinals</a>
            <a href="{{url_for('team_schedule', team='ATL', fullname='Atlanta Falcons')}}" class="team-link">Atlanta Falcons</a>
            <a href="{{url_for('team_schedule', team='BAL', fullname='Baltimore Ravens')}}" class="team-link">Baltimore Ravens</a>
            <a href="{{url_for('team_schedule', team='BUF', fullname='Buffalo Bills')}}" class="team-link">Buffalo Bills</a>
            <a href="{{url_for('team_schedule', team='CAR', fullname='Carolina Panthers')}}" class="team-link">Carolina Panthers</a>
            <a href="{{url_for('team_schedule', team='CHI', fullname='Chicago Bears')}}" class="team-link">Chicago Bears</a>
            <a href="{{url_for('team_schedule', team='CIN', fullname='Cincinnati Bengals')}}" class="team-link">Cincinnati Bengals</a>
            <a href="{{url_for('team_schedule', team='CLE', fullname='Cleveland Browns')}}" class="team-link">Cleveland Browns</a>
            <a href="{{url_for('team_schedule', team='DAL', fullname='Dallas Cowboys')}}" class="team-link">Dallas Cowboys</a>
            <a href="{{url_for('team_schedule', team='DEN', fullname='Denver Broncos')}}" class="team-link">Denver Broncos</a>
            <a href="{{url_for('team_schedule', team='DET', fullname='Detroit Lions')}}" class="team-link">Detroit Lions</a>
            <a href="{{url_for('team_schedule', team='GB', fullname='Green Bay Packers')}}" class="team-link">Green Bay Packers</a>
            <a href="{{url_for('team_schedule', team='HOU', fullname='Houston Texans')}}" class="team-link">Houston Texans</a>
            <a href="{{url_for('team_schedule', team='IND', fullname='Indianapolis Colts')}}" class="team-link">Indianapolis Colts</a>
            <a href="{{url_for('team_schedule', team='JAX', fullname='Jacksonville Jaguars')}}" class="team-link">Jacksonville Jaguars</a>
            <a href="{{url_for('team_schedule', team='KC', fullname='Kansas City Chiefs')}}" class="team-link">Kansas City Chiefs</a>
            <a href="{{url_for('team_schedule', team='LA', fullname='Los Angeles Rams')}}" class="team-link">Los Angeles Rams</a>
            <a href="{{url_for('team_schedule', team='LAC', fullname='Los Angeles Chargers')}}" class="team-link">Los Angeles Chargers</a>
            <a href="{{url_for('team_schedule', team='LV', fullname='Los Vegas Raiders')}}" class="team-link">Los Vegas Raiders</a>
            <a href="{{url_for('team_schedule', team='MIA', fullname='Miami Dolphins')}}" class="team-link">Miami Dolphins</a>
            <a href="{{url_for('team_schedule', team='MIN', fullname='Minnesota Vikings')}}" class="team-link">Minnesota Vikings</a>
            <a href="{{url_for('team_schedule', team='NE', fullname='New England Patriots')}}" class="team-link">New England Patriots</a>
            <a href="{{url_for('team_schedule', team='NO', fullname='New Orleans Saints')}}" class="team-link">New Orleans Saints</a>
            <a href="{{url_for('team_schedule', team='NYG', fullname='New York Giants')}}" class="team-link">New York Giants</a>
            <a href="{{url_for('team_schedule', team='NYJ', fullname='New York Jets')}}" class="team-link">New York Jets</a>
            <a href="{{url_for('team_schedule', team='PHI', fullname='Philadelphia Eagles')}}" class="team-link">Philadelphia Eagles</a>
            <a href="{{url_for('team_schedule', team='PIT', fullname='Pittsburgh Steelers')}}" class="team-link">Pittsburgh Steelers</a>
            <a href="{{url_for('team_schedule', team='SEA', fullname='Seattle Seahawks')}}" class="team-link">Seattle Seahawks</a>
            <a href="{{url_for('team_schedule', team='SF', fullname='San Fransisco 49ers')}}" class="team-link">San Fransisco 49ers</a>
            <a href="{{url_for('team_schedule', team='TB', fullname='Tampa Bay Buccaners')}}" class="team-link">Tampa Bay Buccaners</a>
            <a href="{{url_for('team_schedule', team='TEN', fullname='Tennessee Titans')}}" class="team-link">Tennessee Titans</a>
            <a href="{{url_for('team_schedule', team='WAS', fullname='Washington Commanders')}}" class="team-link">Washington Commanders</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown(this)">Team Results
        <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="{{url_for('FPAupdate')}}" class="team-link">Update All Teams</a>
            <a href="{{url_for('team_results', team='ARI', fullname='Arizona Cardinals')}}" class="team-link">Arizona Cardinals</a>
            <a href="{{url_for('team_results', team='ATL', fullname='Atlanta Falcons')}}" class="team-link">Atlanta Falcons</a>
            <a href="{{url_for('team_results', team='BAL', fullname='Baltimore Ravens')}}" class="team-link">Baltimore Ravens</a>
            <a href="{{url_for('team_results', team='BUF', fullname='Buffalo Bills')}}" class="team-link">Buffalo Bills</a>
            <a href="{{url_for('team_results', team='CAR', fullname='Carolina Panthers')}}" class="team-link">Carolina Panthers</a>
            <a href="{{url_for('team_results', team='CHI', fullname='Chicago Bears')}}" class="team-link">Chicago Bears</a>
            <a href="{{url_for('team_results', team='CIN', fullname='Cincinnati Bengals')}}" class="team-link">Cincinnati Bengals</a>
            <a href="{{url_for('team_results', team='CLE', fullname='Cleveland Browns')}}" class="team-link">Cleveland Browns</a>
            <a href="{{url_for('team_results', team='DAL', fullname='Dallas Cowboys')}}" class="team-link">Dallas Cowboys</a>
            <a href="{{url_for('team_results', team='DEN', fullname='Denver Broncos')}}" class="team-link">Denver Broncos</a>
            <a href="{{url_for('team_results', team='DET', fullname='Detroit Lions')}}" class="team-link">Detroit Lions</a>
            <a href="{{url_for('team_results', team='GB', fullname='Green Bay Packers')}}" class="team-link">Green Bay Packers</a>
            <a href="{{url_for('team_results', team='HOU', fullname='Houston Texans')}}" class="team-link">Houston Texans</a>
            <a href="{{url_for('team_results', team='IND', fullname='Indianapolis Colts')}}" class="team-link">Indianapolis Colts</a>
            <a href="{{url_for('team_results', team='JAX', fullname='Jacksonville Jaguars')}}" class="team-link">Jacksonville Jaguars</a>
            <a href="{{url_for('team_results', team='KC', fullname='Kansas City Chiefs')}}" class="team-link">Kansas City Chiefs</a>
            <a href="{{url_for('team_results', team='LA', fullname='Los Angeles Rams')}}" class="team-link">Los Angeles Rams</a>
            <a href="{{url_for('team_results', team='LAC', fullname='Los Angeles Chargers')}}" class="team-link">Los Angeles Chargers</a>
            <a href="{{url_for('team_results', team='LV', fullname='Los Vegas Raiders')}}" class="team-link">Los Vegas Raiders</a>
            <a href="{{url_for('team_results', team='MIA', fullname='Miami Dolphins')}}" class="team-link">Miami Dolphins</a>
            <a href="{{url_for('team_results', team='MIN', fullname='Minnesota Vikings')}}" class="team-link">Minnesota Vikings</a>
            <a href="{{url_for('team_results', team='NE', fullname='New England Patriots')}}" class="team-link">New England Patriots</a>
            <a href="{{url_for('team_results', team='NO', fullname='New Orleans Saints')}}" class="team-link">New Orleans Saints</a>
            <a href="{{url_for('team_results', team='NYG', fullname='New York Giants')}}" class="team-link">New York Giants</a>
            <a href="{{url_for('team_results', team='NYJ', fullname='New York Jets')}}" class="team-link">New York Jets</a>
            <a href="{{url_for('team_results', team='PHI', fullname='Philadelphia Eagles')}}" class="team-link">Philadelphia Eagles</a>
            <a href="{{url_for('team_results', team='PIT', fullname='Pittsburgh Steelers')}}" class="team-link">Pittsburgh Steelers</a>
            <a href="{{url_for('team_results', team='SEA', fullname='Seattle Seahawks')}}" class="team-link">Seattle Seahawks</a>
            <a href="{{url_for('team_results', team='SF', fullname='San Fransisco 49ers')}}" class="team-link">San Fransisco 49ers</a>
            <a href="{{url_for('team_results', team='TB', fullname='Tampa Bay Buccaners')}}" class="team-link">Tampa Bay Buccaners</a>
            <a href="{{url_for('team_results', team='TEN', fullname='Tennessee Titans')}}" class="team-link">Tennessee Titans</a>
            <a href="{{url_for('team_results', team='WAS', fullname='Washington Commanders')}}" class="team-link">Washington Commanders</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown(this)">Team FPA
        <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="{{url_for('FPAupdate')}}" class="team-link">Update All Teams</a>
            <a href="{{url_for('fpa', year=selected_year)}}" class="team-link">All Teams</a>
            <a href="{{url_for('team_fpa', team='ARI', fullname='Arizona Cardinals')}}" class="team-link">Arizona Cardinals</a>
            <a href="{{url_for('team_fpa', team='ATL', fullname='Atlanta Falcons')}}" class="team-link">Atlanta Falcons</a>
            <a href="{{url_for('team_fpa', team='BAL', fullname='Baltimore Ravens')}}" class="team-link">Baltimore Ravens</a>
            <a href="{{url_for('team_fpa', team='BUF', fullname='Buffalo Bills')}}" class="team-link">Buffalo Bills</a>
            <a href="{{url_for('team_fpa', team='CAR', fullname='Carolina Panthers')}}" class="team-link">Carolina Panthers</a>
            <a href="{{url_for('team_fpa', team='CHI', fullname='Chicago Bears')}}" class="team-link">Chicago Bears</a>
            <a href="{{url_for('team_fpa', team='CIN', fullname='Cincinnati Bengals')}}" class="team-link">Cincinnati Bengals</a>
            <a href="{{url_for('team_fpa', team='CLE', fullname='Cleveland Browns')}}" class="team-link">Cleveland Browns</a>
            <a href="{{url_for('team_fpa', team='DAL', fullname='Dallas Cowboys')}}" class="team-link">Dallas Cowboys</a>
            <a href="{{url_for('team_fpa', team='DEN', fullname='Denver Broncos')}}" class="team-link">Denver Broncos</a>
            <a href="{{url_for('team_fpa', team='DET', fullname='Detroit Lions')}}" class="team-link">Detroit Lions</a>
            <a href="{{url_for('team_fpa', team='GB', fullname='Green Bay Packers')}}" class="team-link">Green Bay Packers</a>
            <a href="{{url_for('team_fpa', team='HOU', fullname='Houston Texans')}}" class="team-link">Houston Texans</a>
            <a href="{{url_for('team_fpa', team='IND', fullname='Indianapolis Colts')}}" class="team-link">Indianapolis Colts</a>
            <a href="{{url_for('team_fpa', team='JAX', fullname='Jacksonville Jaguars')}}" class="team-link">Jacksonville Jaguars</a>
            <a href="{{url_for('team_fpa', team='KC', fullname='Kansas City Chiefs')}}" class="team-link">Kansas City Chiefs</a>
            <a href="{{url_for('team_fpa', team='LA', fullname='Los Angeles Rams')}}" class="team-link">Los Angeles Rams</a>
            <a href="{{url_for('team_fpa', team='LAC', fullname='Los Angeles Chargers')}}" class="team-link">Los Angeles Chargers</a>
            <a href="{{url_for('team_fpa', team='LV', fullname='Los Vegas Raiders')}}" class="team-link">Los Vegas Raiders</a>
            <a href="{{url_for('team_fpa', team='MIA', fullname='Miami Dolphins')}}" class="team-link">Miami Dolphins</a>
            <a href="{{url_for('team_fpa', team='MIN', fullname='Minnesota Vikings')}}" class="team-link">Minnesota Vikings</a>
            <a href="{{url_for('team_fpa', team='NE', fullname='New England Patriots')}}" class="team-link">New England Patriots</a>
            <a href="{{url_for('team_fpa', team='NO', fullname='New Orleans Saints')}}" class="team-link">New Orleans Saints</a>
            <a href="{{url_for('team_fpa', team='NYG', fullname='New York Giants')}}" class="team-link">New York Giants</a>
            <a href="{{url_for('team_fpa', team='NYJ', fullname='New York Jets')}}" class="team-link">New York Jets</a>
            <a href="{{url_for('team_fpa', team='PHI', fullname='Philadelphia Eagles')}}" class="team-link">Philadelphia Eagles</a>
            <a href="{{url_for('team_fpa', team='PIT', fullname='Pittsburgh Steelers')}}" class="team-link">Pittsburgh Steelers</a>
            <a href="{{url_for('team_fpa', team='SEA', fullname='Seattle Seahawks')}}" class="team-link">Seattle Seahawks</a>
            <a href="{{url_for('team_fpa', team='SF', fullname='San Fransisco 49ers')}}" class="team-link">San Fransisco 49ers</a>
            <a href="{{url_for('team_fpa', team='TB', fullname='Tampa Bay Buccaners')}}" class="team-link">Tampa Bay Buccaners</a>
            <a href="{{url_for('team_fpa', team='TEN', fullname='Tennessee Titans')}}" class="team-link">Tennessee Titans</a>
            <a href="{{url_for('team_fpa', team='WAS', fullname='Washington Commanders')}}" class="team-link">Washington Commanders</a>
        </div>
    </div>
    </div>
    <div class="social-links">
        <a id="social-media" href="https://www.facebook.com/Nick.A.Cote"><img src="{{ url_for('static', filename='fb.jpg') }}" height="35px" width="35px"></a>
        <a id="social-media" href="https://twitter.com/NCGingi"><img src="{{ url_for('static', filename='twit.jpg') }}" height="35px" width="35px"></a>
        <a id="social-media" href="https://www.linkedin.com/in/nicholas-alan-cote/"><img src="{{ url_for('static', filename='in.jpg') }}" height="35px" width="35px"></a>
        <a id="social-media" href="https://www.youtube.com/channel/UCttd2npS2zsDR0_VlxVA-PA"><img src="{{ url_for('static', filename='yt.jpg') }}" height="35px" width="35px"></a>
        <a id="social-media" href="https://www.instagram.com/nickco7/"><img src="{{ url_for('static', filename='ig.jpg') }}" height="35px" width="35px"></a>
    </div>
</nav>

<script>
function toggleDropdown(button) {
    const dropdown = button.parentElement;
    const dropdownContent = dropdown.querySelector('.dropdown-content');
    dropdownContent.classList.toggle('show');
    
    // Close other dropdowns
    document.querySelectorAll('.dropdown-content').forEach(content => {
        if (content !== dropdownContent) {
            content.classList.remove('show');
        }
    });
}

// Close dropdowns when clicking outside
window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
        const dropdowns = document.getElementsByClassName("dropdown-content");
        for (let i = 0; i < dropdowns.length; i++) {
            const openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
            }
        }
    }
}

// Function to get current selected year
function getCurrentYear() {
    const yearSelect = document.getElementById('yearSelect');
    return yearSelect ? yearSelect.value : '2024';
}

// Function to update all navbar links with the selected year
function updateAllLinksWithYear(selectedYear) {
    // Update NFL Home link
    const nflHomeLink = document.getElementById('nfl-home-link');
    if (nflHomeLink) {
        const url = new URL(nflHomeLink.href);
        url.searchParams.set('year', selectedYear);
        nflHomeLink.href = url.toString();
    }
    
    // Update Schedule link
    const scheduleLink = document.getElementById('schedule-link');
    if (scheduleLink) {
        const url = new URL(scheduleLink.href);
        url.searchParams.set('year', selectedYear);
        scheduleLink.href = url.toString();
    }
    
    // Update all team links (now with class selector)
    const teamLinks = document.querySelectorAll('.team-link');
    teamLinks.forEach(link => {
        const url = new URL(link.href);
        url.searchParams.set('year', selectedYear);
        link.href = url.toString();
    });
}

// Handle year change - update links and navigate
function handleYearChange(selectedYear) {
    updateAllLinksWithYear(selectedYear);
    // Navigate to NFL home with new year
    window.location.href = `{{ url_for('NFL') }}?year=${selectedYear}`;
}

// Initialize links with current year on page load
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const urlYear = urlParams.get('year') || '2024';
    const yearSelect = document.getElementById('yearSelect');
    
    if (yearSelect) {
        yearSelect.value = urlYear;
        updateAllLinksWithYear(urlYear);
    }
});
</script>